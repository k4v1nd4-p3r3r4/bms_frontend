{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nexport default function AuthUser() {\n  _s();\n  const navigate = useNavigate();\n  const getToken = () => {\n    const tokenString = sessionStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);\n    return userToken;\n  };\n  const getUser = () => {\n    const userString = sessionStorage.getItem('user');\n    const user_detail = JSON.parse(userString);\n    return user_detail;\n  };\n  const [token, setToken] = useState(getToken());\n  const [user, setUser] = useState(getUser());\n  const saveToken = (user, token) => {\n    sessionStorage.setItem('token', JSON.stringify(token));\n    sessionStorage.setItem('user', JSON.stringify(user));\n    setToken(token);\n    setUser(user);\n    navigate('/dashboard');\n  };\n  const logout = () => {\n    sessionStorage.clear();\n    navigate('/login');\n  };\n  const http = axios.create({\n    baseURL: \"http://localhost:8000/api\",\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  });\n  return {\n    setToken: saveToken,\n    token,\n    user,\n    getToken,\n    http,\n    logout\n  };\n}\n_s(AuthUser, \"uHGqxyOAtCdvb+osVBrJITVSuGE=\", false, function () {\n  return [useNavigate];\n});\n_c = AuthUser;\nvar _c;\n$RefreshReg$(_c, \"AuthUser\");","map":{"version":3,"names":["axios","useState","useNavigate","AuthUser","_s","navigate","getToken","tokenString","sessionStorage","getItem","userToken","JSON","parse","getUser","userString","user_detail","token","setToken","user","setUser","saveToken","setItem","stringify","logout","clear","http","create","baseURL","headers","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/Group project Level 3/Frontend/bms_frontend/admin_dashboard/src/components/AuthUser.js"],"sourcesContent":["import axios from 'axios';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function AuthUser(){\r\n    const navigate = useNavigate();\r\n\r\n    const getToken = () =>{\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken;\r\n    }\r\n\r\n    const getUser = () =>{\r\n        const userString = sessionStorage.getItem('user');\r\n        const user_detail = JSON.parse(userString);\r\n        return user_detail;\r\n    }\r\n\r\n\r\n\r\n    const [token,setToken] = useState(getToken());\r\n    const [user,setUser] = useState(getUser());\r\n\r\n    const saveToken = (user,token) =>{\r\n        sessionStorage.setItem('token',JSON.stringify(token));\r\n        sessionStorage.setItem('user',JSON.stringify(user));\r\n\r\n        setToken(token);\r\n        setUser(user);\r\n        navigate('/dashboard');\r\n    }\r\n\r\n    const logout = () => {\r\n        sessionStorage.clear();\r\n        navigate('/login');\r\n    }\r\n\r\n    const http = axios.create({\r\n        baseURL:\"http://localhost:8000/api\",\r\n        headers:{\r\n            \"Content-type\" : \"application/json\",\r\n            \"Authorization\" : `Bearer ${token}`\r\n        }\r\n    });\r\n    return {\r\n        setToken:saveToken,\r\n        token,\r\n        user,\r\n        getToken,\r\n        http,\r\n        logout\r\n    }\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,eAAe,SAASC,QAAQA,CAAA,EAAE;EAAAC,EAAA;EAC9B,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAE9B,MAAMI,QAAQ,GAAGA,CAAA,KAAK;IAClB,MAAMC,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;IACnD,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC;IACzC,OAAOG,SAAS;EACpB,CAAC;EAED,MAAMG,OAAO,GAAGA,CAAA,KAAK;IACjB,MAAMC,UAAU,GAAGN,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IACjD,MAAMM,WAAW,GAAGJ,IAAI,CAACC,KAAK,CAACE,UAAU,CAAC;IAC1C,OAAOC,WAAW;EACtB,CAAC;EAID,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAGhB,QAAQ,CAACK,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACY,IAAI,EAACC,OAAO,CAAC,GAAGlB,QAAQ,CAACY,OAAO,CAAC,CAAC,CAAC;EAE1C,MAAMO,SAAS,GAAGA,CAACF,IAAI,EAACF,KAAK,KAAI;IAC7BR,cAAc,CAACa,OAAO,CAAC,OAAO,EAACV,IAAI,CAACW,SAAS,CAACN,KAAK,CAAC,CAAC;IACrDR,cAAc,CAACa,OAAO,CAAC,MAAM,EAACV,IAAI,CAACW,SAAS,CAACJ,IAAI,CAAC,CAAC;IAEnDD,QAAQ,CAACD,KAAK,CAAC;IACfG,OAAO,CAACD,IAAI,CAAC;IACbb,QAAQ,CAAC,YAAY,CAAC;EAC1B,CAAC;EAED,MAAMkB,MAAM,GAAGA,CAAA,KAAM;IACjBf,cAAc,CAACgB,KAAK,CAAC,CAAC;IACtBnB,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC;EAED,MAAMoB,IAAI,GAAGzB,KAAK,CAAC0B,MAAM,CAAC;IACtBC,OAAO,EAAC,2BAA2B;IACnCC,OAAO,EAAC;MACJ,cAAc,EAAG,kBAAkB;MACnC,eAAe,EAAI,UAASZ,KAAM;IACtC;EACJ,CAAC,CAAC;EACF,OAAO;IACHC,QAAQ,EAACG,SAAS;IAClBJ,KAAK;IACLE,IAAI;IACJZ,QAAQ;IACRmB,IAAI;IACJF;EACJ,CAAC;AACL;AAACnB,EAAA,CAjDuBD,QAAQ;EAAA,QACXD,WAAW;AAAA;AAAA2B,EAAA,GADR1B,QAAQ;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}